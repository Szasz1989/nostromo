<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>title</title>
        <style>
            body, html {
                margin:0;
                padding:0;
            }

            div {
                position:absolute;
                top:0;
                right:0;
                bottom:0;
                left:0;
                overflow:hidden;
            }

            iframe {
                width:100%;
                height:100%;
                border:0;
            }
        </style>
    </head>
    <body>
        <div>
            <iframe id="ifr"></iframe>
        </div>
        <script>
            var wsConn=new WebSocket('ws://localhost:24556')
            var iframe=document.getElementById('ifr')

            wsConn.onmessage = function(event){
                try {
                    var data =JSON.parse(event.data)

                    switch(data.type){
                        case 'open':
                            iframe.src='';
                            iframe.src = data.url;
                            break;
                        default:
                            throw new Error('Unknown command type: '+data.type)
                    }

                }
                catch(e){
                    console.error(e)
                }
            }
        </script>
    </body>
</html>
